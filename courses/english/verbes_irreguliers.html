<!DOCTYPE html>
<html lang="fr">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet">

    <title>Test des verbes irréguliers</title>
    
    <!-- Bootstrap core CSS -->
    <link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="../../assets/css/fontawesome.css">
    <link rel="stylesheet" href="../../assets/css/templatemo-grad-school.css">
    <link rel="stylesheet" href="../../assets/css/owl.css">
    <link rel="stylesheet" href="../../assets/css/lightbox.css">
    
    <style>
      .button{
        height: 3rem;
        font-size: 1.50em;
      }
    </style>

  </head>

  <body onload="initPage()">

   
    <!--header-->
    <header class="main-header clearfix" role="header">
      <div class="logo">
        <a href="../../index.html"><em>New</em> School</a>
      </div>
    </header>

    <!-- ***** Main Area Start ***** -->     
    <section class="section courses" data-section="section2">
      <div class="container">
        <div class="row">

          <div class="col-md-12">
            <div class="section-heading">
              <h2>Test des verbes irréguliers</h2>
            </div>

              <form method="POST" name="mainfrm">
                <div id="testForm" class="col-md-12" hidden>
                  <div align="center">
                    <center>
                      <table border="1" width="373" height="128" bgcolor="#ECE9D8">
                        <tr>
                          <td width="170" height="18" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Temps</font>
                          </td>
                          <td width="187" height="18" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Verbe n°
                              <input type="text" name="txt_position" size="5" readonly="readonly">
                            </font>
                          </td>
                        </tr>
                        <tr>
                          <td width="170" height="32" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Infinitif</font>
                          </td>
                          <td width="187" height="32" bgcolor="#FFFFFF">
                            <p align="center"><input type="text" name="tbox_inf" size="20" style="font-size: 12 pt">
                          </td>
                        </tr>
                        <tr>
                          <td width="170" height="30" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Prétérit</font>
                          </td>
                          <td width="187" height="32" bgcolor="#FFFFFF">
                            <p align="center"><input type="text" name="tbox_sp" size="20" style="font-size: 12 pt">
                          </td>
                        </tr>
                        <tr>
                          <td width="170" height="31" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Participe Passé</font>
                          </td>
                          <td width="187" height="32" bgcolor="#FFFFFF">
                            <p align="center"><input type="text" name="tbox_pp" size="20" style="font-size: 12 pt">
                          </td>
                        </tr>
                        <tr>
                          <td width="170" height="31" bgcolor="#CCCCCC">
                            <font size="4" color="#000000">Traduction</font>
                          </td>
                          <td width="187" height="32" bgcolor="#FFFFFF">
                            <p align="center"><input type="text" name="tbox_trad" size="20" style="font-size: 12 pt">
                          </td>
                        </tr>
                      </table>
                    </center>
                  </div>  

                  <div align="center">
                      <p>
                        <font color="#000000">&nbsp;
                          <input type="button" value="&lt; Précédent" onclick="ModifiePosition(mainfrm,2); checkTestCompleted()">&nbsp;
                          <input type="button" value="Suivant &gt;" onclick="ModifiePosition(mainfrm,1); checkTestCompleted()">
                        </font>
                      </p>
                  </div>
                  <div align="center">
                    <table>
                      <tr>
                        <td>
                          <input type="text" name="BT_timer" value="00 : 00" style="border: outset; background: #CCCCCC; color: #000000;text-align: center" readonly="readonly" />
                        </td>
                        <td>
                          <font color="#000000"><input type="button" class="button" hidden id="validButton" value="Corriger" style="border-style: ridge;" onclick="displayResult(mainfrm,0)"></font>
                        </td>
                      </tr>
                    </table>
                  </div>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                  <br/>
                </div>


                <div id="testConfigForm" >
                  <center>
                    <div>
                      <h4><em>CONFIGURATION</em> DU TEST</h4>
                    </div>
                    <table width="634" height="129" bgcolor="#ECE9D8" style="border: outset">
                      <tr>
                        <td>
                          <span class="nbVerbsConfig" id="nbVerbsConfig" style="color:#000000"></span>
                          <input type="text" name="txt_nbverbs" size="3" value="25">
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <input type="checkbox" id="checklist01" checked onchange="buildVerbArrays()" /><label for="checkbox" style="color:#000000">Liste 1</label>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <input type="checkbox" id="checklist02" onchange="buildVerbArrays()" /><label for="checkbox" style="color:#000000">Liste 2</label>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <input type="checkbox" id="checklist03" onchange="buildVerbArrays()" /><label for="checkbox" style="color:#000000">Liste 3</label>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <input type="checkbox" id="checklist04" onchange="buildVerbArrays()" /><label for="checkbox" style="color:#000000">Liste 4</label>
                        </td>
                      </tr>
                      <tr>
                        <td>
                          <input type="button" id="startupButton" value=" Démarrer " onclick="Demarrer(mainfrm)">
                        </td>
                      </tr>
                    </table>
                  </center>

                  <p align="center">
                    <font color="#000000"><input type="button" value="Table des verbes irréguliers" onclick="displayResult(mainfrm,1)"></font>
                  </p>
                </div>              

              </form>
              
          </div>
        </div>
      </div>
    </section>

    <footer>
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <p><i class="fa fa-copyright"></i> Copyright 2023 par New School  
            
             | Design: <a href="https://templatemo.com" rel="sponsored" target="_parent">TemplateMo</a></p>
          </div>
        </div>
      </div>
    </footer>

  </body>

</html>



  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="../../vendor/jquery/jquery.min.js"></script>
  <script src="../../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  <script src="../../assets/js/isotope.min.js"></script>
  <script src="../../assets/js/owl-carousel.js"></script>
  <script src="../../assets/js/lightbox.js"></script>
  <script src="../../assets/js/tabs.js"></script>
  <script src="../../assets/js/video.js"></script>
  <script src="../../assets/js/slick-slider.js"></script>
  <script src="../../assets/js/custom.js"></script>
  <script>
      //according to loftblog tut
      $('.nav li:first').addClass('active');

      var showSection = function showSection(section, isAnimate) {
        var
        direction = section.replace(/#/, ''),
        reqSection = $('.section').filter('[data-section="' + direction + '"]'),
        reqSectionPos = reqSection.offset().top - 0;

        if (isAnimate) {
          $('body, html').animate({
            scrollTop: reqSectionPos },
          800);
        } else {
          $('body, html').scrollTop(reqSectionPos);
        }

      };

      var checkSection = function checkSection() {
        $('.section').each(function () {
          var
          $this = $(this),
          topEdge = $this.offset().top - 80,
          bottomEdge = topEdge + $this.height(),
          wScroll = $(window).scrollTop();
          if (topEdge < wScroll && bottomEdge > wScroll) {
            var
            currentId = $this.data('section'),
            reqLink = $('a').filter('[href*=\\#' + currentId + ']');
            reqLink.closest('li').addClass('active').
            siblings().removeClass('active');
          }
        });
      };

      $('.main-menu, .scroll-to-section').on('click', 'a', function (e) {
        if($(e.target).hasClass('external')) {
          return;
        }
        e.preventDefault();
        $('#menu').removeClass('active');
        showSection($(this).attr('href'), true);
      });

      $(window).scroll(function () {
        checkSection();
      });
  </script>

  <script language="JavaScript" type="text/javascript">

    var verbsList01 = new Array(
      new Array("Be", "was, were", "Been", "être"),
      new Array("Beat", "Beat", "Beaten", "Battre"),
      new Array("Become", "Became", "Become", "Devenir"),
      new Array("Begin", "Began", "Begun", "Commencer"),
      new Array("Bet", "Bet", "Bet", "Parier"),
      new Array("Blind", "Bound", "Bound", "Relier"),
      new Array("Bite", "Bit", "Bitten", "Mordre"),
      new Array("Bleed", "Bled", "Bled", "Saigner"),
      new Array("Blow", "Blew", "Blown", "Souffler"),
      new Array("Break", "Broke", "Broken", "Casser"),
      new Array("Bring", "Brought", "Brought", "Apporter"),
      new Array("Build", "Built", "Built", "Construire"),
      new Array("Burn", "Burnt", "Burnt", "Brûler"),
      new Array("Burst", "Burst", "Burst", "éclater"),
      new Array("Buy", "Bought", "Bought", "Acheter"),
      new Array("Catch", "Caught", "Caught", "Attraper"),
      new Array("Choose", "Chose", "Chosen", "Choisir"),
      new Array("Come", "Came", "Come", "Venir"),
      new Array("Cost", "Cost", "Cost", "Coûter"),
      new Array("Cut", "Cut", "Cut", "Couper"),
      new Array("Do", "Did", "Done", "Faire"),
      new Array("Draw", "Drawn", "Drew", "Dessiner"),
      new Array("Dream", "Dreamt", "Dreamt", "Rêver"),
      new Array("Drink",	"Drank",	"Drunk",	"Boire"),
      new Array("Drive",	"Drove",	"Driven",	"Conduire"),

    )
    var verbsList02 = new Array(
      new Array("Eat",	"Ate",	"Eaten",	"Manger"),
      new Array("Fall",	"Fell",	"Fallen",	"Tomber"),
      new Array("Feed",	"Fed",	"Fed",	"Nourrir"),
      new Array("Feel",	"Felt",	"Felt",	"Se sentir, Ressentir"),
      new Array("Fight", "Fought",	"Fought",	"Se battre"),
      new Array("Find",	"Found",	"Found",	"Trouver"),
      new Array("Fly",	"Flew",	"Flown",	"Voler"),
      new Array("Forget",	"Forgot",	"Forgotten",	"Oublier"),
      new Array("Forgive",	"Forgave",	"Forgiven",	"Pardonner"),
      new Array("Freeze",	"Froze",	"Frozen",	"Geler"),
      new Array("Get",	"Got",	"Gotten", "Got",	"Obtenir"),
      new Array("Give",	"Gave",	"Given",	"Donner"),
      new Array("Go",	"wWnt",	"Gone",	"Aller"),
      new Array("Grow",	"grew",	"grown",	"Grandir"),
      new Array("Hang",	"Hung",	"Hung",	"Prendre, Suspendre"),
      new Array("Have",	"Had",	"Had",	"Avoir"),
      new Array("Hear",	"Heard",	"Heard",	"Entendre"),
      new Array("Hide",	"Hid",	"Hidden",	"Cacher"),
      new Array("Hit",	"Hit",	"Hit",	"Frapper"),
      new Array("Hold",	"Held",	"Held", "Tenir"),
      new Array("Hurt",	"Hurt",	"Hurt",	"Blesser, Faire mal, Avoir mal"),
      new Array("Keep",	"Kept",	"Kept",	"garder"),
      new Array("Know",	"Knew",	"Known", "Savoir, Connaître"),
      new Array("Lay",	"Laid",	"Laid", "Poser"),
      new Array("Learn",	"Learnt",	"Learnt",	"Apprendre"),
      
    )
    var verbsList03 = new Array(
      new Array("Leave",	"Left",	"Left",	"Laisser, Quitter, Partir"),
      new Array("Lend",	"Lent",	"Lent",	"Prêter"),
      new Array("Let",	"Let",	"Let",	"Permettre, Laisser"),
      new Array("Lie",	"Lay",	"Lain",	"S'allonger"),
      new Array("Lose",	"Lost",	"Lost",	"Perdre"),
      new Array("Make",	"Made",	"Made",	"Faire, Fabriquer"),
      new Array("Mean",	"Meant",	"Meant",	"Vouloir dire"),
      new Array("Meet",	"Met",	"Met",	"Rencontrer"),
      new Array("Pay",	"Paid",	"Paid",	"Payer"),
      new Array("Put", "Put",	"Put",	"Mettre"),
      new Array("Read",	"Read",	"Read",	"Lire"),
      new Array("Rent",	"Rent",	"Rent",	"Louer"),
      new Array("Ride",	"Rode",	"Ridden",	"Aller à bicyclette"),
      new Array("Ring",	"Rang",	"Rung",	"Sonner, Téléphoner"),
      new Array("Rise",	"Rose",	"Risen",	"Monter, S'élever"),
      new Array("Run",	"Ran",	"Run",	"Courir"),
      new Array("Say",	"Said",	"Said",	"Dire"),
      new Array("See",	"Saw",	"Seen",	"Voir"),
      new Array("Sell",	"Sold",	"Sold",	"Vendre"),
      new Array("Send",	"Sent",	"Sent",	"Envoyer"),
      new Array("Set",	"Set",	"Set",	"Poser, Placer, Mettre"),
      new Array("Shake",	"Shook",	"Shaken",	"Trembler"),
      new Array("Shine",	"Shone",	"Shone",	"Briller"),
      new Array("Shoot",	"Shot",	"Shot",	"Tirer"),
      new Array("Show",	"Showed",	"Shown",	"Montrer"),
      
    )
    var verbsList04 = new Array(
      new Array("Shut",	"Shut",	"Shut",	"Fermer"),
      new Array("Sing",	"Sang",	"Sung",	"Chanter"),
      new Array("Sit",	"Sat",	"Sat",	"S'asseoir"),
      new Array("Sleep",	"Slept",	"Slept",	"Dormir"),
      new Array("Smell",	"Smelt",	"Smelt",	"Sentir"),
      new Array("Speak",	"Spoke",	"Spoken",	"Parler"),
      new Array("Spend",	"Spent",	"Spent",	"Dépenser, Dasser"),
      new Array("Spread",	"Spread",	"Spread",	"étaler, Répandre"),
      new Array("Stand",	"Stood",	"Stood",	"Se tenir debout"),
      new Array("Steal",	"Stole",	"Stolen",	"Voler, dérober"),
      new Array("Strike",	"Struck",	"Struck",	"Frapper, Donner un coup, passer un accord"),
      new Array("Swear",	"Swore",	"Sworn",	"Jurer"),
      new Array("Swim",	"Swam",	"Swum",	"Nager"),
      new Array("Take",	"Took",	"Taken",	"Prendre"),
      new Array("Teach",	"Taught",	"Taught",	"Enseigner"),
      new Array("Tear",	"Tore",	"Torn",	"Déchirer"),
      new Array("Tell",	"Told",	"Told",	"Dire, Raconter"),
      new Array("Think",	"Thought",	"Thought",	"Penser"),
      new Array("Throw",	"Threw",	"Thrown",	"Jeter"),
      new Array("Understand",	"Understood",	"Understood",	"Comprendre"),
      new Array("Upset",	"Upset",	"Upset",	"Contrarier"),
      new Array("Wake up",	"Woke up",	"Woken up",	"Réveiller"),
      new Array("Wear",	"Wore",	"Worn",	"Porter"),
      new Array("Win",	"Won",	"Won",	"Gagner"),
      new Array("Write",	"Wrote",	"Written",	"écrire")
      
    )
    
    var verbsGlobalList = new Array()
    
    var global_TAB_INF = new Array("*");
    var global_TAB_SP = new Array("*");
    var global_TAB_PP = new Array("*");
    var global_TAB_TRAD = new Array("*");

    var nbMaxVerbs; // nombre total de verbe irréguliers connus dans la liste (= nombre maximal de verbes qu'on peut tester)
    var nbTestVerbs; // Le nombre de verbes pour le test courant
    var TAB_Selection = new Array; // contient l'ordre aléatoire des verbes
    var TAB_Tense = new Array;  // contient l'ordre aléatoire du temps (inf=1,past=2,p.part=3,trad=4)
    var Position; // indice courant
    var PosMaxAtteint;   // indique si on a arrivé au dernier verbe

    var TAB_Verif1 = new Array; // réponse : (infinitif)
    var TAB_Verif2 = new Array; // réponse : (prétérit)
    var TAB_Verif3 = new Array; // réponse : (participe passé)
    var TAB_Verif4 = new Array; // réponse : (traduction)

    var Correction1 = new Array;// correction1[i] corrigé de TAB_Verif1[i] (si faux)
    var Correction2 = new Array;// correction2[i] corrigé de TAB_Verif2[i] (si faux)
    var Correction3 = new Array;// correction3[i] corrigé de TAB_Verif3[i] (si faux)
    var Correction4 = new Array;// correction4[i] corrigé de TAB_Verif4[i] (si faux)

    var score;  // Score du test
    var temps;  // Temps du test
    var chargement = false; // Si chargement=false alors le test est lancé pour la 1ere fois


    // Initialisation de la page
    function initPage(){

      buildVerbArrays();

      // initialize le nombre de verbe du test courant
      nbTestVerbs = mainfrm.txt_nbverbs.value;
      if (nbTestVerbs > nbMaxVerbs || nbTestVerbs < 5) {
        nbTestVerbs = 10;
        mainfrm.txt_nbverbs.value = nbTestVerbs;
      }
      
    }

    // Initialisation de la liste de verbes
    function buildVerbArrays() {
      // Reinit de la liste globale de verbes à utiliser pour le test
      verbsGlobalList.length = 0
      global_TAB_INF = new Array("*");
      global_TAB_SP = new Array("*");
      global_TAB_PP = new Array("*");
      global_TAB_TRAD = new Array("*");
      if(document.getElementById("checklist01").checked == true)
        verbsGlobalList.push(verbsList01);
      if(document.getElementById("checklist02").checked == true)
        verbsGlobalList.push(verbsList02);
      if(document.getElementById("checklist03").checked == true)
        verbsGlobalList.push(verbsList03);
      if(document.getElementById("checklist04").checked == true)
        verbsGlobalList.push(verbsList04);

      if(verbsGlobalList.length == 0)
        document.getElementById("startupButton").setAttribute("disabled", "disabled");
      else
        document.getElementById("startupButton").removeAttribute("disabled");

      // Initialisation des différents tableaux avec les temps des verbes
      nbMaxVerbs = 0;
      for(let i = 0; i < verbsGlobalList.length; i++) {
        let verbsList = verbsGlobalList[i];
        for(let j = 0; j < verbsList.length; j++) {
          let verb = verbsList[j];
          global_TAB_INF.push(verb[0]);
          global_TAB_SP.push(verb[1]);
          global_TAB_PP.push(verb[2]);
          global_TAB_TRAD.push(verb[3]);
          nbMaxVerbs++;
        }
      }
      console.log(global_TAB_INF);
      console.log(global_TAB_SP);
      console.log(global_TAB_PP);
      console.log(global_TAB_TRAD);
      console.log(nbMaxVerbs);

      document.getElementById("nbVerbsConfig").textContent = "Nombre de verbes (" + this.nbMaxVerbs + " max) = ";
    }


    // Démarrer le test
    function Demarrer(mainfrm) {

      // Affiche le formulaire de test
      testForm.removeAttribute("hidden");

      // Cache le formulaire de configuration du test
      var x = document.getElementById("testConfigForm");
      x.style.display = "none";

      // initialize le nombre de verbe du test courant
      nbTestVerbs = mainfrm.txt_nbverbs.value;
      if (nbTestVerbs > nbMaxVerbs || nbTestVerbs < 5) {
        nbTestVerbs = 10;
        mainfrm.txt_nbverbs.value = nbTestVerbs;
      }

      Position = 0;
      PosMaxAtteint = false;
      validButton.setAttribute("hidden", "hidden");
      randomizeVerbs(mainfrm);

      for (var i = 1; i <= nbMaxVerbs; i++) {
        TAB_Verif1[i] = "";
        TAB_Verif2[i] = "";
        TAB_Verif3[i] = "";
        TAB_Verif4[i] = "";
      }

      ModifiePosition(mainfrm, 1)
      temps = 0;

      if (chargement == false) { incrTemps() };
      chargement = true;

    }

    // Supprime les espaces à gauche et à droite d'une chaine
    function Trim(mot) {
      var l;
      l = mot.length;
      for (var i = 1; i <= l; i++) {
        mot = mot.replace(" ", "");
      }
      return mot;
    }

    // Génération du format du compteur ( X min et Y sec)
    function DeSecAMin(t) {
      var s;
      var min;
      var sec;
      min = Math.floor(t / 60);
      sec = t % 60;
      s = min + " min and " + sec + " sec";
      return s;
    }

    // Incrémentation du compteur chaque seconde
    function incrTemps() {
      timer = setTimeout("incrTemps()", 1000);
      mainfrm.BT_timer.value = DeSecAMin(temps)
      temps++;
    }

    // Corriger les fautes
    function Corriger(mainfrm) {

      clearTimeout(timer);
      RefreshTabs(mainfrm);
      score = 0;

      var i;
      var k;

      for (var i = 1; i <= nbTestVerbs; i++) {

        k = TAB_Selection[i];

        // Initialisation du tableau des correctifs
        Correction1[i] = ""
        Correction2[i] = ""
        Correction3[i] = ""
        Correction4[i] = ""


        TAB_Verif1[i] = Trim(TAB_Verif1[i].toLowerCase());
        TAB_Verif2[i] = Trim(TAB_Verif2[i].toLowerCase());
        TAB_Verif3[i] = Trim(TAB_Verif3[i].toLowerCase());
        TAB_Verif4[i] = Trim(TAB_Verif4[i].toLowerCase());

        if (TAB_Tense[i] != 1) {
          if (Comparer(TAB_Verif1[i], global_TAB_INF[k]) == true) {
            score++
          } else {
            Correction1[i] = "(" + global_TAB_INF[k] + ")"
          }
        }

        if (TAB_Tense[i] != 2) {
          if (Comparer(TAB_Verif2[i], global_TAB_SP[k]) == true) {
            score++
          } else {
            Correction2[i] = "(" + global_TAB_SP[k] + ")"
          }
        }

        if (TAB_Tense[i] != 3) {
          if (Comparer(TAB_Verif3[i], global_TAB_PP[k]) == true) {
            score++
          } else {
            Correction3[i] = "(" + global_TAB_PP[k] + ")"
          }
        }

        if (TAB_Tense[i] != 4) {
          if (Comparer(TAB_Verif4[i], global_TAB_TRAD[k]) == true) {
            score++
          } else {
            Correction4[i] = "(" + global_TAB_TRAD[k] + ")"
          }
        }

      }
    }


    // Affiche les verbes stockés dans les textBox
    function Memoire(mainfrm) {
      mainfrm.tbox_inf.value = TAB_Verif1[Position];
      mainfrm.tbox_sp.value = TAB_Verif2[Position];
      mainfrm.tbox_pp.value = TAB_Verif3[Position];
      mainfrm.tbox_trad.value = TAB_Verif4[Position];
    }


    // Comparer deux chaines de caractères
    function Comparer(mot1, mot2) {
      var m;
      var condition;
      if (mot2 === '') {
          return false;
      } else {
      mot2 = mot2.toLowerCase()
      m = mot2.split("/");  // Dans le cas où il existe 2 possibilités de réponse
      // m[O]: 1ere possibilité et m[1]: 2�me possibilité

      condition = (mot1 == m[0]) || (mot1 == m[1]);
      return condition;
        
      }
    }


    // Générateur de nombres aléatoires dans l'intervalle [1,m]
    function rnd(mainfrm, m) {
      var RETrnd;
      RETrnd = Math.floor(Math.random() * m) + 1;
      return RETrnd;
    }

    // Permuter deux éléments d'un tableau
    function permut(indice1, indice2) {
      var aux;
      aux = TAB_Selection[indice1];
      TAB_Selection[indice1] = TAB_Selection[indice2];
      TAB_Selection[indice2] = aux;
    }

    // Perturber les éléments d'un tableau au hasard
    // => l'ordre des verbes devient aléatoire
    function randomizeVerbs(mainfrm) {
      var i;
      for (var i = 1; i <= nbMaxVerbs; i++) {
        TAB_Selection[i] = i;
        TAB_Tense[i] = rnd(mainfrm, 4)
      }
      for (var i = 1; i <= nbMaxVerbs; i++) {
        permut(rnd(mainfrm, nbMaxVerbs), rnd(mainfrm, nbMaxVerbs));
      }
    }


    // Affectation des valeurs du TextBox vers le tableau.
    function RefreshTabs(mainfrm) {
      TAB_Verif1[Position] = mainfrm.tbox_inf.value;
      TAB_Verif2[Position] = mainfrm.tbox_sp.value;
      TAB_Verif3[Position] = mainfrm.tbox_pp.value;
      TAB_Verif4[Position] = mainfrm.tbox_trad.value;

    }


    // Modifie la postion (verbe suivant / verbe précédent)
    function ModifiePosition(mainfrm, sens) {
      RefreshTabs(mainfrm);
      if (sens == 1) {
        if (Position < nbTestVerbs) {
          Position++;
        }
      } else {
        if (Position > 1) {
          Position--;
        }
      }
      if (Position == nbTestVerbs) {
        PosMaxAtteint = true;
      }
      mainfrm.txt_position.value = Position + "/" + nbTestVerbs;
      var hasard_pos;
      hasard_pos = TAB_Selection[Position];

      Memoire(mainfrm);
      switch (TAB_Tense[Position]) {
        case 1:
          mainfrm.tbox_inf.value = global_TAB_INF[hasard_pos];
          mainfrm.tbox_sp.select();
          break;
        case 2:
          mainfrm.tbox_sp.value = global_TAB_SP[hasard_pos];
          mainfrm.tbox_inf.select();
          break;
        case 3:
          mainfrm.tbox_pp.value = global_TAB_PP[hasard_pos];
          mainfrm.tbox_inf.select();
          break;
        case 4:
          mainfrm.tbox_trad.value = global_TAB_TRAD[hasard_pos];
          mainfrm.tbox_inf.select();
          break;
      }

    }


    // Génération d'un document HTML pour
    // k=0 : affiche le résulat du test
    // k=1 affiche la liste des verbes irréguliers
    function displayResult(mainfrm, k) {

      var max;

      if (PosMaxAtteint == true || k == 1) {

        if (k == 0) {
          Corriger(mainfrm);
          max = nbTestVerbs;
        } else {
          max = nbMaxVerbs;
          for (var i = 1; i <= max; i++) {

            Correction1[i] = ""
            Correction2[i] = ""
            Correction3[i] = ""
            Correction4[i] = ""


            TAB_Verif1[i] = global_TAB_INF[i];
            TAB_Verif2[i] = global_TAB_SP[i];
            TAB_Verif3[i] = global_TAB_PP[i];
            TAB_Verif4[i] = global_TAB_TRAD[i];
          }
          console.log(TAB_Verif1);
          console.log(TAB_Verif2);
          console.log(TAB_Verif3);
          console.log(TAB_Verif4);
        }

        var genHtm = '<html>';
        
        // head
        genHtm = genHtm + '<head><meta charset="utf-8"><link href="https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900" rel="stylesheet"><title>Test des verbes irréguliers</title><link href="../../vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="../../assets/css/fontawesome.css"><link rel="stylesheet" href="../../assets/css/templatemo-grad-school.css"><link rel="stylesheet" href="../../assets/css/owl.css"><link rel="stylesheet" href="../../assets/css/lightbox.css"></head>';
        
        genHtm = genHtm + '<body>';
        // body header
        genHtm = genHtm + '<header class="main-header clearfix" role="header"><div class="logo"><a href="../../index.html"><em>New</em> School</a></div></header>';
        
        // Main Area
        genHtm = genHtm + '<section class="section courses" data-section="section2"><div class="container"><div class="row">';

        // Check title page to display
        if (k == 0) {
          genHtm = genHtm + '<div class="col-md-12"><div class="section-heading"><h2>Correction</h2></div>';
        } else {
          genHtm = genHtm + '<div class="col-md-12"><div class="section-heading"><h2>Table des verbes irréguliers</h2></div>';
        }

        // Score
        if (k == 0) {
          genHtm = genHtm + '<div class="section-heading">'
          genHtm = genHtm + '<b> <font size="3" color="#f5a425">'
          genHtm = genHtm + ' Score: ' + score + '/' + (nbTestVerbs * 4 - nbTestVerbs)
          genHtm = genHtm + '<br /> Durée du test: ' + DeSecAMin(temps)
          genHtm = genHtm + '</font></b></div>';
        }
        
        // Table headers
        genHtm = genHtm + '   <div class="section-heading"><table id="myTable" align="center" border="2">';
        genHtm = genHtm + '        <tr>';
        genHtm = genHtm + '          <td><b><center>Verb n°</center></b></td>';
        genHtm = genHtm + '                <td><b><center>Infinitif</center></b></td>';
        genHtm = genHtm + '         <td><b><center>Prétérit</center></b></td>';
        genHtm = genHtm + '          <td><b><center>Participe Passé</center></b></td>';
        genHtm = genHtm + '          <td><b><center>Traduction</center></b></td>';
        genHtm = genHtm + '        </tr>';
        // Table content
        for (var i = 1; i <= max; i++) {
          genHtm = genHtm + '  <tr> <td><center><b>' + i + '</b></center></td>';
          genHtm = genHtm + '<td bgcolor="#000000">' + TAB_Verif1[i] + '<font size="3" color="#FF0000"><b>' + Correction1[i] + '</b></font></td>';
          genHtm = genHtm + '<td bgcolor="#000000">' + TAB_Verif2[i] + '<font size="3" color="#FF0000"><b>' + Correction2[i] + '</b></font></td>';
          genHtm = genHtm + '<td bgcolor="#000000">' + TAB_Verif3[i] + '<font size="3" color="#FF0000"><b>' + Correction3[i] + '</b></font></td>';
          genHtm = genHtm + '<td bgcolor="#000000">' + TAB_Verif4[i] + '<font size="3" color="#FF0000"><b>' + Correction4[i] + '</b></font></td>';

        }
        genHtm = genHtm + '</tr></table></div></div>';
        
        // Return button
        genHtm = genHtm + '<div class="col-md-12"><center><input type="button" onclick="window.location.reload(false)" value="Retour"/></center> </div>'

        genHtm = genHtm + '</div></div></section>';

        // body footer
        genHtm = genHtm + '<footer><div class="container"><div class="row"><div class="col-md-12"><p><i class="fa fa-copyright"></i> Copyright 2023 par New School | Design: <a href="https://templatemo.com" rel="sponsored" target="_parent">TemplateMo</a></p></div></div></div></footer>';

        genHtm = genHtm + ' <br />  </body></html>';


        document.write(genHtm);

      } // Fin  de la condition
    } // Fin de la fonction

    // Fonction pour tester si le test est terminé
    function checkTestCompleted() {
      if (PosMaxAtteint == true) {   
          validButton.style.backgroundColor = "green";
          validButton.removeAttribute("hidden");
      }
    }

  </script>